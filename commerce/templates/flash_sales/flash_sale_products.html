{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center mb-4"><i class="bi bi-lightning-charge-fill text-warning"></i> Flash Sale Hôm Nay <i class="bi bi-lightning-charge-fill text-warning"></i></h2>

    <div class="row">
        {% for flash in flash_sales %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card shadow-sm h-100">
                {% if flash.product.image_url %}
                <img src="{{ flash.product.image_url }}" class="card-img-top" alt="{{ flash.product.name }}">
                {% else %}
                <div class="text-center p-5 bg-light">
                    <i class="bi bi-image text-secondary display-4"></i>
                </div>
                {% endif %}

                <div class="card-body">
                    <h5 class="card-title text-primary"><i class="bi bi-box-seam"></i> {{ flash.product.name }}</h5>
                    <p class="card-text">
                        <s class="text-muted"><i class="bi bi-cash-stack"></i> {{ flash.product.price }}₫</s>
                        <span class="text-danger fw-bold"><i class="bi bi-tag-fill"></i> {{ flash.sale_price }}₫</span>
                    </p>
                    <p class="badge bg-success"><i class="bi bi-arrow-down-circle"></i> Giảm {{ flash.discount_percent }}%</p>
                    <p class="text-muted small">
                        <i class="bi bi-clock-history"></i> Từ {{ flash.start_date|date:"d/m/Y H:i" }} đến {{ flash.end_date|date:"d/m/Y H:i" }}
                    </p>
                    <a href="#" class="btn btn-danger w-100"><i class="bi bi-cart-plus-fill"></i> Mua ngay</a>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center">
            <p class="alert alert-warning"><i class="bi bi-exclamation-triangle-fill"></i> Không có chương trình flash sale nào đang diễn ra.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
